# TSBS Supplemental Guide: Hyprcubd

Hyprcubd is serverless time series database. This supplemental guide explains how
the data generated for TSBS is stored, additional flags available when
using the data importer (`tsbs_load_hyprcubd`), and additional flags
available for the query runner (`tsbs_run_queries_hyprcubd`). **This
should be read *after* the main README.**

## Data format

Data generated by `tsbs_generate_data` for Hyprcubd is serialized in a
"pseudo-CSV" format, along with a custom header at the beginning. The
header is several lines long:
* one line composed of a comma-separated list of tag labels, with the literal string `tags` as the first value in the list
* one or more lines composed of a comma-separated list of field labels, with the table name as the first value in the list
* a blank line

An example for the `iot` use case:
```text
tags,name string,fleet string,driver string,model string,device_version string,load_capacity float32,fuel_capacity float32,nominal_fuel_consumption float32
diagnostics,fuel_state,current_load,status
readings,latitude,longitude,elevation,velocity,heading,grade,fuel_consumption

```

Following this, each reading is composed of two rows:
1. a comma-separated list of tag values for the reading, with the literal string `tags` as the first value in the list
1. a comma-separated list of field values for the reading, with the table the row belongs to being the first value and the timestamp as the second value and the subsequent values that line up with the table columns.  

```text
tags,name=truck_0,fleet=West,driver=Rodney,model=H-2,device_version=v2.3,load_capacity=1500,fuel_capacity=150,nominal_fuel_consumption=12
readings,1451606400000000000,47.22179,140.95082,372,0,185,0,25
tags,name=truck_0,fleet=West,driver=Rodney,model=H-2,device_version=v2.3,load_capacity=1500,fuel_capacity=150,nominal_fuel_consumption=12
readings,1451606410000000000,47.22207,140.95062,369,0,185,2,22.6
tags,name=truck_0,fleet=West,driver=Rodney,model=H-2,device_version=v2.3,load_capacity=1500,fuel_capacity=150,nominal_fuel_consumption=12
diagnostics,1451606410000000000,0.9,0,0
```


---

## `tsbs_load_hyprcubd` Additional Flags

#### `-token` (type: `string`)

Required token to connect to Hyprcubd.  

#### `-host` (type: `string`, default: `https://api.hyprcubd.com`)

Hostname of the query service. This can use an in cluster config for enterprise deployments
